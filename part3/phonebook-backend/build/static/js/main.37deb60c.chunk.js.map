{"version":3,"sources":["components/NameFilter.js","components/NewPersonForm.js","components/Person.js","components/PersonList.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["NameFilter","nameFilter","handleNameFilter","value","onChange","NewPersonForm","newName","newNumber","handleSubmit","handleNewName","handleNewNumber","onSubmit","type","Person","person","deleteHandler","name","number","onClick","PersonList","persons","filter","toLowerCase","includes","map","key","Notification","message","isError","notificationStyle","width","background","border","borderRadius","borderColor","color","padding","textAlign","fontWeight","fontSize","style","baseUrl","axios","get","then","res","data","catch","e","console","log","post","err","response","put","id","delete","App","useState","setPersons","setNewName","setNewNumber","setNameFilter","notificationMsg","setNotificationMsg","useEffect","personService","initPersons","setNotification","errorState","time","msg","setTimeout","event","target","preventDefault","some","window","confirm","personToUpdate","find","updatedPerson","p","addedPerson","concat","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.37deb60c.chunk.js","sourcesContent":["import React from 'react'\n\nconst NameFilter = ({nameFilter, handleNameFilter}) => (\n    <div>\n      <p>Filter existing contacts:</p>\n      <input value={nameFilter} onChange={handleNameFilter} />\n    </div>\n  )\n\n  export default NameFilter","import React from 'react'\n\nconst NewPersonForm = ({newName, newNumber, handleSubmit, handleNewName, handleNewNumber}) => (\n    <div>\n      <h4>Add new contact:</h4>\n      <form onSubmit={handleSubmit}>\n        <div>\n          name: <input value={newName} onChange={handleNewName} />\n        </div>\n        <div>\n          phone: <input value={newNumber} onChange={handleNewNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n\n  export default NewPersonForm","import React from 'react'\n\nconst Person = ({person, deleteHandler}) => (\n    <div>\n      <p>{person.name}, phone: {person.number} <button onClick={() => deleteHandler(person)}>delete</button></p>\n    </div>\n)\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst PersonList = ({persons, nameFilter, deleteHandler}) => (\n    <div>\n        <h4>Numbers</h4>\n        <div>\n          {persons.filter(person => person.name.toLowerCase().includes(nameFilter.toLowerCase()))\n            .map(person => <Person key={person.name} person={person} deleteHandler={deleteHandler} />)}\n        </div>\n    </div>\n  )\n\n  export default PersonList","import React from 'react'\n\nconst Notification = ({message, isError}) => {\n    const notificationStyle = {\n        width: '40%',\n        background: '#ccc',\n        border: '3px solid',\n        borderRadius: '10px',\n        borderColor: isError ? 'red' : 'green',\n        color: isError ? 'red' : 'green',\n        padding: 10,\n        textAlign: 'center',\n        fontWeight: 'bold',\n        fontSize: '1.2em'\n    }\n\n    if (!message) return null\n\n    return (\n        <div>\n            <p style={notificationStyle}>{message}</p>\n        </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n        .then(res => res.data)\n        .catch(e => console.log(e))\n}\n\nconst create = (person) => {\n    return axios.post(baseUrl, person)\n        .then(res => {\n            return res.data\n        })\n        .catch(err => {  \n            console.log(err.response);\n            throw err\n        })\n}\n\nconst update = (person) => {\n    return axios.put(`${baseUrl}/${person.id}/`, {name: person.name, number: person.number})\n        .then(res => res.data)\n        .catch(err => {\n            console.log(err.response);\n            throw err\n        })\n}\n\nconst remove = (person) => {\n    return axios.delete(`${baseUrl}/${person.id}`)\n        .then(res => person)\n        .catch(err => {\n            console.log(err.response)\n            throw err\n        })\n}\n\nexport default {\n    getAll,\n    create,\n    update,\n    remove\n}","import React, { useState, useEffect } from 'react'\nimport NameFilter from './components/NameFilter'\nimport NewPersonForm from './components/NewPersonForm'\nimport PersonList from './components/PersonList'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([\n    { name: 'Dummy Entry', number: '040-1234567' }\n  ]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ nameFilter, setNameFilter ] = useState('')\n  const [ notificationMsg, setNotificationMsg ] = useState('')\n\n  useEffect(() => {\n    personService.getAll()\n      .then(initPersons => setPersons(initPersons))\n  }, [])\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    if (persons.some(person => person.name.toLowerCase() === newName.toLowerCase())) {\n      if (window.confirm(`Person ${newName} is already in the list. Do you want to replace the old number with this one?`)) {\n        const personToUpdate = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\n        personService.update({...personToUpdate, number: newNumber})\n          .then(updatedPerson => {\n            setPersons(persons.map(p => p.id !== updatedPerson.id ? p : updatedPerson))\n            setNotification(`Number for ${updatedPerson.name} was changed.`, false, 2000)\n          }).catch(err => {\n            //setNotification(`${err.response.data.error}`, true, 3000)\n            //setPersons(persons.filter(p => p.id !== personToUpdate.id))\n            //setNotification(`Entry for ${personToUpdate.name} has been removed, cannot update.`, true, 3000)\n            setNotification(`Error updating entry. Make sure that the existing entry is not removed and that the new phone number is formatted correctly!`, true, 3000)\n          })\n          setNewName('')\n          setNewNumber('')\n      }\n      return\n    }\n    personService.create({name: newName, number: newNumber})\n      .then(addedPerson => {\n        setPersons(persons.concat(addedPerson))\n        setNotification(`Added ${addedPerson.name}.`, false, 2000)\n      })\n      .catch(err => {\n        setNotification(`${err.response.data.error}`, true, 3000)\n      })\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const setNotification = (message, errorState, time) => {\n    setNotificationMsg({msg: message, errorState: errorState})\n    setTimeout(() => {\n      setNotificationMsg('')\n    }, time)\n  }\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameFilter = (event) => {\n    setNameFilter(event.target.value)\n  }\n\n  const deleteHandler = (person) => {\n    if (!window.confirm(\"Are you sure?\")) {\n      return\n    }\n    personService.remove(person)\n      .then(person => {\n        setPersons(persons.filter(p => p.id !== person.id))\n        setNotification(`${person.name} was removed.`, false, 2000)\n      })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <NameFilter nameFilter={nameFilter} handleNameFilter={handleNameFilter} />\n      <Notification message={notificationMsg.msg} isError={notificationMsg.errorState} />\n      <NewPersonForm newName={newName}\n                     newNumber={newNumber}\n                     handleSubmit={handleSubmit}\n                     handleNewName={handleNewName}\n                     handleNewNumber={handleNewNumber} />\n      <PersonList persons={persons} nameFilter={nameFilter} deleteHandler={deleteHandler} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}